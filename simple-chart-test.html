<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Chart Test</title>
    <style>
        body {
            font-family: 'Inter', system-ui, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }
        
        h1 {
            text-align: center;
            color: #1F2937;
            margin-bottom: 30px;
        }
        
        .chart-container {
            position: relative;
            min-height: 320px;
            height: 100%;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(248, 250, 252, 0.98) 100%);
            border-radius: 20px;
            padding: 24px;
            backdrop-filter: blur(20px);
            border: 1px solid rgba(226, 232, 240, 0.8);
            box-shadow: 
                0 4px 6px -1px rgba(0, 0, 0, 0.1),
                0 2px 4px -1px rgba(0, 0, 0, 0.06),
                inset 0 1px 0 rgba(255, 255, 255, 0.8);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        canvas {
            width: 100% !important;
            height: auto !important;
            filter: drop-shadow(0 8px 16px rgba(0, 0, 0, 0.08));
        }
        
        .controls {
            margin-top: 20px;
            text-align: center;
        }
        
        button {
            background: linear-gradient(135deg, #FF6B6B 0%, #FF8E8E 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            margin: 0 10px;
            transition: all 0.3s ease;
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(255, 107, 107, 0.3);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸŽ¨ Simple Chart Test</h1>
        
        <div class="chart-container">
            <canvas id="engagementChart" width="600" height="300"></canvas>
        </div>
        
        <div class="controls">
            <button onclick="updateChart(7)">7 Days</button>
            <button onclick="updateChart(14)">14 Days</button>
            <button onclick="updateChart(30)">30 Days</button>
        </div>
    </div>

    <script>
        // Simple chart implementation
        class SimpleChart {
            constructor(canvas, data) {
                this.canvas = canvas;
                this.ctx = canvas.getContext('2d');
                this.data = data;
                this.init();
            }
            
            init() {
                this.resize();
                this.draw();
            }
            
            resize() {
                const rect = this.canvas.getBoundingClientRect();
                this.canvas.width = rect.width * window.devicePixelRatio;
                this.canvas.height = rect.height * window.devicePixelRatio;
                this.ctx.scale(window.devicePixelRatio, window.devicePixelRatio);
            }
            
            draw() {
                const { width, height } = this.canvas.getBoundingClientRect();
                const padding = 40;
                const chartWidth = width - padding * 2;
                const chartHeight = height - padding * 2;
                
                // Clear canvas
                this.ctx.clearRect(0, 0, width, height);
                
                // Draw background
                const gradient = this.ctx.createLinearGradient(0, 0, 0, height);
                gradient.addColorStop(0, 'rgba(255, 255, 255, 0.95)');
                gradient.addColorStop(1, 'rgba(248, 250, 252, 0.98)');
                this.ctx.fillStyle = gradient;
                this.ctx.fillRect(0, 0, width, height);
                
                // Calculate scales
                const maxValue = Math.max(...this.data.values);
                const scale = chartHeight / (maxValue * 1.2);
                
                // Draw grid
                this.ctx.strokeStyle = 'rgba(107, 114, 128, 0.1)';
                this.ctx.lineWidth = 1;
                const gridLines = 5;
                for (let i = 0; i <= gridLines; i++) {
                    const y = padding + (chartHeight / gridLines) * i;
                    this.ctx.beginPath();
                    this.ctx.moveTo(padding, y);
                    this.ctx.lineTo(padding + chartWidth, y);
                    this.ctx.stroke();
                }
                
                // Draw bars
                const barWidth = (chartWidth - (this.data.labels.length - 1) * 40) / this.data.labels.length;
                const colors = ['#FF6B6B', '#4ECDC4', '#45B7D1'];
                
                this.data.values.forEach((value, index) => {
                    const x = padding + index * (barWidth + 40);
                    const barHeight = value * scale;
                    const y = padding + chartHeight - barHeight;
                    
                    // Create gradient for bar
                    const barGradient = this.ctx.createLinearGradient(0, y, 0, y + barHeight);
                    barGradient.addColorStop(0, colors[index]);
                    barGradient.addColorStop(1, colors[index] + 'CC');
                    
                    // Draw bar with rounded corners
                    this.drawRoundedRect(x, y, barWidth, barHeight, 12, barGradient);
                    
                    // Draw value on top
                    this.ctx.fillStyle = '#1F2937';
                    this.ctx.font = 'bold 14px Inter, system-ui, sans-serif';
                    this.ctx.textAlign = 'center';
                    this.ctx.fillText(value.toLocaleString(), x + barWidth / 2, y - 10);
                });
                
                // Draw labels
                this.data.labels.forEach((label, index) => {
                    const x = padding + index * (barWidth + 40) + barWidth / 2;
                    const y = padding + chartHeight + 25;
                    
                    this.ctx.fillStyle = '#6B7280';
                    this.ctx.font = 'bold 14px Inter, system-ui, sans-serif';
                    this.ctx.textAlign = 'center';
                    this.ctx.fillText(label, x, y);
                });
            }
            
            drawRoundedRect(x, y, width, height, radius, fillStyle) {
                this.ctx.save();
                this.ctx.fillStyle = fillStyle;
                
                this.ctx.beginPath();
                this.ctx.moveTo(x + radius, y);
                this.ctx.lineTo(x + width - radius, y);
                this.ctx.quadraticCurveTo(x + width, y, x + width, y + radius);
                this.ctx.lineTo(x + width, y + height - radius);
                this.ctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);
                this.ctx.lineTo(x + radius, y + height);
                this.ctx.quadraticCurveTo(x, y + height, x, y + height - radius);
                this.ctx.lineTo(x, y + radius);
                this.ctx.quadraticCurveTo(x, y, x + radius, y);
                this.ctx.closePath();
                this.ctx.fill();
                
                this.ctx.restore();
            }
            
            update(newData) {
                this.data = newData;
                this.draw();
            }
        }
        
        let chart = null;
        
        function generateChartData(days) {
            const labels = ['Likes', 'Comments', 'Shares'];
            
            let likesData, commentsData, sharesData;
            
            switch (days) {
                case 7:
                    likesData = 2847;
                    commentsData = 156;
                    sharesData = 89;
                    break;
                case 14:
                    likesData = 5214;
                    commentsData = 298;
                    sharesData = 167;
                    break;
                case 30:
                    likesData = 12458;
                    commentsData = 742;
                    sharesData = 423;
                    break;
                default:
                    likesData = 2847;
                    commentsData = 156;
                    sharesData = 89;
            }
            
            return {
                labels,
                values: [likesData, commentsData, sharesData]
            };
        }
        
        function updateChart(days) {
            const newData = generateChartData(days);
            if (chart) {
                chart.update(newData);
            }
        }
        
        // Initialize chart
        document.addEventListener('DOMContentLoaded', () => {
            const canvas = document.getElementById('engagementChart');
            const chartData = generateChartData(7);
            chart = new SimpleChart(canvas, chartData);
        });
        
        // Make updateChart available globally
        window.updateChart = updateChart;
    </script>
</body>
</html> 