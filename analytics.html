<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="Rutgers University Social Media Analytics Dashboard">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' https://cdn.jsdelivr.net https://m.stripe.network; style-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' data: https:; connect-src 'self' http://localhost:4000;">
    <meta property="og:title" content="Analytics - Rutgers University Social Media Manager" />
    <meta property="og:description" content="Rutgers University Social Media Analytics Dashboard" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://yourdomain.com/analytics.html" />
    <meta property="og:image" content="https://yourdomain.com/og-image.png" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Analytics - Rutgers University Social Media Manager" />
    <meta name="twitter:description" content="Rutgers University Social Media Analytics Dashboard" />
    <meta name="twitter:image" content="https://yourdomain.com/og-image.png" />
    <title>Analytics - Rutgers University Social Media Manager</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body class="bg-gray-50">
    <!-- Mobile Menu Button -->
    <div class="md:hidden fixed top-4 left-4 z-50 animate-fade-in">
        <button id="mobileMenuBtn" class="bg-white p-2 rounded-lg shadow-md transition-transform duration-300 hover:shadow-lg hover:-translate-y-1 hover:scale-110" title="Toggle mobile menu" aria-label="Toggle mobile menu" type="button">
            <svg xmlns="http://www.w3.org/2000/svg" class="lucide lucide-menu" width="20" height="20" fill="none" stroke="#CC0033" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-label="Menu"><line x1="4" y1="6" x2="20" y2="6"/><line x1="4" y1="12" x2="20" y2="12"/><line x1="4" y1="18" x2="20" y2="18"/></svg>
        </button>
    </div>

    <!-- Sidebar -->
    <div id="sidebar" class="sidebar fixed h-full bg-white shadow-lg w-64 flex flex-col animate-slide-in">
        <!-- Logo -->
        <div class="p-4 flex items-center justify-between border-b border-gray-200 animate-fade-in">
            <div class="flex items-center">
                <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiByeD0iMjAiIGZpbGw9IiNDQzAwMzMiLz4KPHRleHQgeD0iMjAiIHk9IjI1IiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTYiIGZvbnQtd2VpZ2h0PSJib2xkIiBmaWxsPSJ3aGl0ZSIgdGV4dC1hbmNob3I9Im1pZGRsZSI+UlU8L3RleHQ+Cjwvc3ZnPgo=" alt="Rutgers Logo" class="w-10 h-10 rounded-full transition-transform duration-300 hover:scale-110">
                <span class="logo-text ml-3 text-xl font-bold text-red-800">Rutgers University</span>
            </div>
            <button id="collapseBtn" class="text-gray-500 hover:text-gray-700 md:block hidden transition-transform duration-300 hover:scale-110" title="Collapse sidebar" aria-label="Collapse sidebar" type="button">
                <svg xmlns="http://www.w3.org/2000/svg" class="lucide lucide-chevron-left" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-label="Collapse sidebar"><polyline points="15 18 9 12 15 6"/></svg>
            </button>
        </div>
        
        <!-- Navigation -->
        <div class="flex-1 overflow-y-auto py-4">
            <ul>
                <li>
                    <a href="index.html" class="flex items-center px-6 py-3 text-gray-600 hover:text-red-700 hover:bg-gradient-to-r hover:from-red-50 hover:to-red-100 transition-all duration-300 hover:scale-105 hover:shadow-md rounded-r-lg group">
                        <div class="w-8 h-8 bg-gradient-to-br from-red-500 to-red-600 rounded-lg flex items-center justify-center shadow-md group-hover:scale-110 transition-transform duration-300">
                            <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-white" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
                                <polyline points="9 22 9 12 15 12 15 22"/>
                            </svg>
                        </div>
                        <span class="nav-text ml-3">Dashboard</span>
                    </a>
                </li>
                <li>
                    <a href="analytics.html" class="flex items-center px-6 py-3 text-blue-700 bg-gradient-to-r from-blue-50 to-blue-100 border-l-4 border-blue-600 transition-all duration-300 hover:scale-105 hover:shadow-md rounded-r-lg">
                        <div class="w-8 h-8 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center shadow-md">
                            <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-white" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M3 3v18h18"/>
                                <path d="M18 17V9"/>
                                <path d="M13 17V5"/>
                                <path d="M8 17v-3"/>
                            </svg>
                        </div>
                        <span class="nav-text ml-3 font-semibold">Analytics</span>
                    </a>
                </li>
                <li>
                    <a href="calendar.html" class="flex items-center px-6 py-3 text-gray-600 hover:text-green-700 hover:bg-gradient-to-r hover:from-green-50 hover:to-green-100 transition-all duration-300 hover:scale-105 hover:shadow-md rounded-r-lg group">
                        <div class="w-8 h-8 bg-gradient-to-br from-green-500 to-green-600 rounded-lg flex items-center justify-center shadow-md group-hover:scale-110 transition-transform duration-300">
                            <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-white" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <rect x="3" y="4" width="18" height="18" rx="2"/>
                                <line x1="16" y1="2" x2="16" y2="6"/>
                                <line x1="8" y1="2" x2="8" y2="6"/>
                                <line x1="3" y1="10" x2="21" y2="10"/>
                            </svg>
                        </div>
                        <span class="nav-text ml-3">Calendar</span>
                    </a>
                </li>
                <li>
                    <a href="post-composer.html" class="flex items-center px-6 py-3 text-gray-600 hover:text-purple-700 hover:bg-gradient-to-r hover:from-purple-50 hover:to-purple-100 transition-all duration-300 hover:scale-105 hover:shadow-md rounded-r-lg group">
                        <div class="w-8 h-8 bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg flex items-center justify-center shadow-md group-hover:scale-110 transition-transform duration-300">
                            <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-white" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M12 20h9"/>
                                <path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"/>
                            </svg>
                        </div>
                        <span class="nav-text ml-3">Post Composer</span>
                    </a>
                </li>
                <li>
                    <a href="media-library.html" class="flex items-center px-6 py-3 text-gray-600 hover:text-orange-700 hover:bg-gradient-to-r hover:from-orange-50 hover:to-orange-100 transition-all duration-300 hover:scale-105 hover:shadow-md rounded-r-lg group">
                        <div class="w-8 h-8 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg flex items-center justify-center shadow-md group-hover:scale-110 transition-transform duration-300">
                            <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-white" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <rect x="3" y="3" width="18" height="18" rx="2"/>
                                <circle cx="8.5" cy="8.5" r="1.5"/>
                                <path d="M21 15l-5-5L5 21"/>
                            </svg>
                        </div>
                        <span class="nav-text ml-3">Media Library</span>
                    </a>
                </li>
                <li>
                    <a href="settings.html" class="flex items-center px-6 py-3 text-gray-600 hover:text-indigo-700 hover:bg-gradient-to-r hover:from-indigo-50 hover:to-indigo-100 transition-all duration-300 hover:scale-105 hover:shadow-md rounded-r-lg group">
                        <div class="w-8 h-8 bg-gradient-to-br from-indigo-500 to-indigo-600 rounded-lg flex items-center justify-center shadow-md group-hover:scale-110 transition-transform duration-300">
                            <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-white" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <circle cx="12" cy="12" r="3"/>
                                <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 1 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 4.6 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 1 1 0-4h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 9 4.6a1.65 1.65 0 0 0 1-1.51V3a2 2 0 1 1 4 0v.09A1.65 1.65 0 0 0 16 4.6a1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9c.14.31.22.65.22 1s-.08.69-.22 1z"/>
                            </svg>
                        </div>
                        <span class="nav-text ml-3">Settings</span>
                    </a>
                </li>
            </ul>
        </div>
        
        <!-- User Profile -->
        <div class="p-4 border-t border-gray-200 animate-fade-in">
            <div class="flex items-center">
                <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMjAiIGZpbGw9IiNlNWU3ZWYiLz4KPHN2ZyB4PSIxMCIgeT0iMTAiIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiM5Y2EzYWYiIHN0cm9rZS13aWR0aD0iMiI+CjxwYXRoIGQ9Ik0yMCAyMS4xMlYxOWE0IDQgMCAwIDAtNC00SDhhNCA0IDAgMCAwLTQgNHYyIi8+CjxjaXJjbGUgY3g9IjEyIiBjeT0iNyIgcj0iNCIvPgo8L3N2Zz4K" alt="User Profile" class="w-10 h-10 rounded-full">
                <div class="ml-3">
                    <p class="text-sm font-medium text-gray-900">John Smith</p>
                    <p class="text-xs text-gray-500">Marketing Manager</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div id="contentArea" class="content-area min-h-screen ml-64 animate-fade-in">
        <!-- Top Navigation -->
        <header class="bg-white shadow-sm py-4 px-6 flex justify-between items-center animate-fade-in">
            <h1 class="text-2xl font-bold text-red-800">Analytics</h1>
            <div class="flex items-center space-x-4">
                <div class="relative animate-fade-in">
                    <button class="p-2 text-gray-500 hover:text-gray-700 transition-transform duration-300 hover:scale-110" title="Notifications" aria-label="Notifications" type="button">
                        <svg xmlns="http://www.w3.org/2000/svg" class="lucide lucide-bell" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-label="Notifications"><path d="M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"/><path d="m13.73 21a2 2 0 0 1-3.46 0"/></svg>
                        <span class="absolute top-0 right-0 h-2 w-2 rounded-full bg-red-500 animate-pulse-slow"></span>
                    </button>
                </div>
                <div class="relative animate-fade-in">
                    <button id="themeToggle" class="p-2 text-gray-500 hover:text-gray-700 transition-transform duration-300 hover:scale-110" title="Toggle dark mode" aria-label="Toggle dark mode" type="button">
                        <svg xmlns="http://www.w3.org/2000/svg" class="lucide lucide-moon" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-label="Toggle dark mode"><path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"/></svg>
                    </button>
                </div>
            </div>
        </header>
        
        <!-- Main Content -->
        <main class="p-6 animate-fade-in">
            <!-- Analytics Overview Banner -->
            <div class="gradient-bg rounded-xl p-6 text-white mb-6 animate-fade-in animate-on-scroll shadow-lg scale-100 transition-transform duration-700">
                <div class="flex flex-col md:flex-row justify-between items-start md:items-center">
                    <div>
                        <h2 class="text-2xl font-bold mb-2">Analytics Overview</h2>
                        <p class="opacity-90">Track your social media performance across all platforms.</p>
                    </div>
                    <div class="mt-4 md:mt-0 flex gap-4">
                        <select class="bg-white text-red-700 px-4 py-2 rounded-lg font-medium border-0" title="Select time period" aria-label="Select analytics time period">
                            <option value="7">Last 7 days</option>
                            <option value="30">Last 30 days</option>
                            <option value="90">Last 90 days</option>
                            <option value="365">Last year</option>
                        </select>
                        <button class="btn btn-primary" onclick="exportAnalyticsReport()">
                            Export Report
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Key Metrics -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6 animate-fade-in">
                <div class="bg-white rounded-xl shadow-soft p-6 animate-fade-in animate-stagger-1 animate-on-scroll transition-all duration-500 hover:shadow-glow hover:-translate-y-2 hover:scale-105">
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="text-sm text-gray-500">Total Reach</p>
                            <h3 class="text-2xl font-bold mt-1">124,582</h3>
                            <p class="text-sm text-red-600 mt-1 flex items-center">
                                <svg xmlns="http://www.w3.org/2000/svg" class="lucide lucide-trending-up mr-1" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-label="Trending up"><polyline points="22,7 13.5,15.5 8.5,10.5 2,17"/><polyline points="16,7 22,7 22,13"/></svg> 18% from last period
                            </p>
                        </div>
                        <div class="bg-red-100 p-3 rounded-lg transition-transform duration-300 hover:scale-110">
                            <svg xmlns="http://www.w3.org/2000/svg" class="lucide lucide-eye text-red-600 text-xl" width="20" height="20" fill="none" stroke="#dc2626" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-label="Eye"><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/></svg>
                        </div>
                    </div>
                </div>
                
                <div class="bg-white rounded-xl shadow-soft p-6 animate-fade-in animate-stagger-2 animate-on-scroll transition-all duration-500 hover:shadow-glow hover:-translate-y-2 hover:scale-105">
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="text-sm text-gray-500">Total Engagement</p>
                            <h3 class="text-2xl font-bold mt-1">8,947</h3>
                            <p class="text-sm text-red-600 mt-1 flex items-center">
                                <svg xmlns="http://www.w3.org/2000/svg" class="lucide lucide-trending-up mr-1" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-label="Trending up"><polyline points="22,7 13.5,15.5 8.5,10.5 2,17"/><polyline points="16,7 22,7 22,13"/></svg> 12% from last period
                            </p>
                        </div>
                        <div class="bg-blue-100 p-3 rounded-lg transition-transform duration-300 hover:scale-110">
                            <svg xmlns="http://www.w3.org/2000/svg" class="lucide lucide-thumbs-up text-blue-600 text-xl" width="20" height="20" fill="none" stroke="#2563eb" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-label="Thumbs Up"><path d="M7 10v12"/><path d="M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a2 2 0 0 1 2 2v1.88Z"/></svg>
                        </div>
                    </div>
                </div>
                
                <div class="bg-white rounded-xl shadow-soft p-6 animate-fade-in animate-stagger-3 transition-all duration-500 hover:shadow-glow hover:-translate-y-2 hover:scale-105">
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="text-sm text-gray-500">Click-Through Rate</p>
                            <h3 class="text-2xl font-bold mt-1">4.2%</h3>
                            <p class="text-sm text-red-600 mt-1 flex items-center">
                                <svg xmlns="http://www.w3.org/2000/svg" class="lucide lucide-trending-up mr-1" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-label="Trending up"><polyline points="22,7 13.5,15.5 8.5,10.5 2,17"/><polyline points="16,7 22,7 22,13"/></svg> 0.8% from last period
                            </p>
                        </div>
                        <div class="bg-purple-100 p-3 rounded-lg transition-transform duration-300 hover:scale-110">
                            <svg xmlns="http://www.w3.org/2000/svg" class="lucide lucide-mouse-pointer text-purple-600 text-xl" width="20" height="20" fill="none" stroke="#9333ea" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-label="Mouse pointer"><path d="m9 9 5.12 5.12"/><circle cx="6" cy="6" r="3"/><path d="m20.2 20.2-3.5-3.5"/><path d="M15 4h1a2 2 0 0 1 2 2v1"/><path d="M9 20H8a2 2 0 0 1-2-2v-1"/><path d="M4 9V8a2 2 0 0 1 2-2h1"/><path d="M20 15v1a2 2 0 0 1-2 2h-1"/></svg>
                        </div>
                    </div>
                </div>
                
                <div class="bg-white rounded-xl shadow-soft p-6 animate-fade-in animate-stagger-4 transition-all duration-500 hover:shadow-glow hover:-translate-y-2 hover:scale-105">
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="text-sm text-gray-500">Conversion Rate</p>
                            <h3 class="text-2xl font-bold mt-1">2.1%</h3>
                            <p class="text-sm text-gray-500 mt-1">Based on 1,247 clicks</p>
                        </div>
                        <div class="bg-yellow-100 p-3 rounded-lg transition-transform duration-300 hover:scale-110">
                            <svg xmlns="http://www.w3.org/2000/svg" class="lucide lucide-trending-up text-yellow-600 text-xl" width="20" height="20" fill="none" stroke="#ca8a04" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-label="Trending up"><polyline points="22,7 13.5,15.5 8.5,10.5 2,17"/><polyline points="16,7 22,7 22,13"/></svg>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Charts Section -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6 animate-fade-in">
                <!-- Engagement Overview Chart -->
                <div class="bg-white rounded-xl shadow-soft p-6 animate-fade-in animate-stagger-1 transition-all duration-500 hover:shadow-glow hover:-translate-y-2 hover:scale-105">
                    <div class="flex justify-between items-center mb-4">
                        <!-- No duplicate heading here -->
                        <div class="flex space-x-2">
                            <select id="engagementRange" class="bg-gray-100 border-0 text-sm rounded-lg px-3 py-1" title="Select time range" aria-label="Select engagement time range">
                                <option value="7">Last 7 days</option>
                                <option value="14">Last 14 days</option>
                                <option value="30">Last 30 days</option>
                            </select>
                        </div>
                    </div>
                    <div class="chart-container">
                        <canvas id="engagementChart" width="600" height="350" class="w-full h-64" style="min-height: 250px;"></canvas>
                    </div>
                </div>
                
                <!-- Platform Performance -->
                <div class="bg-white rounded-xl shadow-soft p-6 animate-fade-in animate-stagger-2 transition-all duration-500 hover:shadow-glow hover:-translate-y-2 hover:scale-105">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-lg font-semibold">Platform Performance</h3>
                        <button class="btn btn-ghost btn-sm" onclick="viewPlatformDetails()">View Details</button>
                    </div>
                    <div class="space-y-4">
                        <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                            <div class="flex items-center">
                                <svg xmlns="http://www.w3.org/2000/svg" class="text-pink-600 text-xl mr-3" width="20" height="20" fill="none" stroke="#ec4899" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-label="Instagram"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"/><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"/></svg>
                                <div>
                                    <p class="font-medium">Instagram</p>
                                    <p class="text-sm text-gray-500">5,248 followers</p>
                                </div>
                            </div>
                            <div class="text-right">
                                <p class="font-bold text-green-600">+12%</p>
                                <p class="text-xs text-gray-500">vs last month</p>
                            </div>
                        </div>
                        <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                            <div class="flex items-center">
                                <svg xmlns="http://www.w3.org/2000/svg" class="text-blue-600 text-xl mr-3" width="20" height="20" fill="none" stroke="#2563eb" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-label="Facebook"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"/></svg>
                                <div>
                                    <p class="font-medium">Facebook</p>
                                    <p class="text-sm text-gray-500">3,782 followers</p>
                                </div>
                            </div>
                            <div class="text-right">
                                <p class="font-bold text-green-600">+5%</p>
                                <p class="text-xs text-gray-500">vs last month</p>
                            </div>
                        </div>
                        <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                            <div class="flex items-center">
                                <svg xmlns="http://www.w3.org/2000/svg" class="text-blue-400 text-xl mr-3" width="20" height="20" fill="none" stroke="#60a5fa" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-label="Twitter"><path d="M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z"/></svg>
                                <div>
                                    <p class="font-medium">Twitter</p>
                                    <p class="text-sm text-gray-500">2,156 followers</p>
                                </div>
                            </div>
                            <div class="text-right">
                                <p class="font-bold text-red-600">-2%</p>
                                <p class="text-xs text-gray-500">vs last month</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Top Performing Content -->
            <div class="bg-white rounded-xl shadow-sm p-6 animate-fade-in">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-semibold">Top Performing Content</h3>
                    <button class="btn btn-ghost btn-sm" onclick="viewAllContent()">View All</button>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                    <div class="border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow duration-300">
                        <div class="bg-gray-100 rounded-lg h-32 mb-3 flex items-center justify-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="lucide lucide-image text-gray-400 text-2xl" width="32" height="32" fill="none" stroke="#9ca3af" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-label="Image"><rect width="18" height="18" x="3" y="3" rx="2"/><circle cx="9" cy="9" r="2"/><path d="m21 15-5-5L5 21"/></svg>
                        </div>
                        <h4 class="font-medium text-sm mb-1">Sunset at Rutgers Golf Course</h4>
                        <p class="text-xs text-gray-500 mb-2">Posted 2 days ago</p>
                        <div class="flex justify-between text-xs">
                            <span class="text-blue-600"><svg xmlns="http://www.w3.org/2000/svg" class="lucide lucide-thumbs-up mr-1" width="12" height="12" fill="none" stroke="#2563eb" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-label="Thumbs Up"><path d="M7 10v12"/><path d="M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a2 2 0 0 1 2 2v1.88Z"/></svg>1,247</span>
                            <span class="text-blue-600"><svg xmlns="http://www.w3.org/2000/svg" class="lucide lucide-message-circle mr-1" width="12" height="12" fill="none" stroke="#2563eb" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-label="Comment"><path d="M21 11.5a8.38 8.38 0 0 1-1.9 5.4A8.5 8.5 0 0 1 3.6 17L2 21l4-1.6A8.38 8.38 0 0 0 12 19.5a8.5 8.5 0 1 0-8.5-8.5"/></svg>89</span>
                            <span class="text-green-600"><svg xmlns="http://www.w3.org/2000/svg" class="lucide lucide-repeat-2 mr-1" width="12" height="12" fill="none" stroke="#22c55e" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-label="Retweet"><path d="m2 9 3-3 3 3"/><path d="M8 6v6a2 2 0 0 0 2 2h6"/><path d="m22 15-3 3-3-3"/><path d="M16 18v-6a2 2 0 0 0-2-2H8"/></svg>156</span>
                        </div>
                    </div>
                    <div class="border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow duration-300">
                        <div class="bg-gray-100 rounded-lg h-32 mb-3 flex items-center justify-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="lucide lucide-image text-gray-400 text-2xl" width="32" height="32" fill="none" stroke="#9ca3af" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-label="Image"><rect width="18" height="18" x="3" y="3" rx="2"/><circle cx="9" cy="9" r="2"/><path d="m21 15-5-5L5 21"/></svg>
                        </div>
                        <h4 class="font-medium text-sm mb-1">Student Success Story</h4>
                        <p class="text-xs text-gray-500 mb-2">Posted 5 days ago</p>
                        <div class="flex justify-between text-xs">
                            <span class="text-blue-600"><svg xmlns="http://www.w3.org/2000/svg" class="lucide lucide-thumbs-up mr-1" width="12" height="12" fill="none" stroke="#2563eb" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-label="Thumbs Up"><path d="M7 10v12"/><path d="M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a2 2 0 0 1 2 2v1.88Z"/></svg>892</span>
                            <span class="text-blue-600"><svg xmlns="http://www.w3.org/2000/svg" class="lucide lucide-message-circle mr-1" width="12" height="12" fill="none" stroke="#2563eb" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-label="Comment"><path d="M21 11.5a8.38 8.38 0 0 1-1.9 5.4A8.5 8.5 0 0 1 3.6 17L2 21l4-1.6A8.38 8.38 0 0 0 12 19.5a8.5 8.5 0 1 0-8.5-8.5"/></svg>67</span>
                            <span class="text-green-600"><svg xmlns="http://www.w3.org/2000/svg" class="lucide lucide-repeat-2 mr-1" width="12" height="12" fill="none" stroke="#22c55e" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-label="Retweet"><path d="m2 9 3-3 3 3"/><path d="M8 6v6a2 2 0 0 0 2 2h6"/><path d="m22 15-3 3-3-3"/><path d="M16 18v-6a2 2 0 0 0-2-2H8"/></svg>123</span>
                        </div>
                    </div>
                    <div class="border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow duration-300">
                        <div class="bg-gray-100 rounded-lg h-32 mb-3 flex items-center justify-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="lucide lucide-image text-gray-400 text-2xl" width="32" height="32" fill="none" stroke="#9ca3af" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-label="Image"><rect width="18" height="18" x="3" y="3" rx="2"/><circle cx="9" cy="9" r="2"/><path d="m21 15-5-5L5 21"/></svg>
                        </div>
                        <h4 class="font-medium text-sm mb-1">Campus Life Highlights</h4>
                        <p class="text-xs text-gray-500 mb-2">Posted 1 week ago</p>
                        <div class="flex justify-between text-xs">
                            <span class="text-blue-600"><svg xmlns="http://www.w3.org/2000/svg" class="lucide lucide-thumbs-up mr-1" width="12" height="12" fill="none" stroke="#2563eb" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-label="Thumbs Up"><path d="M7 10v12"/><path d="M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a2 2 0 0 1 2 2v1.88Z"/></svg>756</span>
                            <span class="text-blue-600"><svg xmlns="http://www.w3.org/2000/svg" class="lucide lucide-message-circle mr-1" width="12" height="12" fill="none" stroke="#2563eb" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-label="Comment"><path d="M21 11.5a8.38 8.38 0 0 1-1.9 5.4A8.5 8.5 0 0 1 3.6 17L2 21l4-1.6A8.38 8.38 0 0 0 12 19.5a8.5 8.5 0 1 0-8.5-8.5"/></svg>45</span>
                            <span class="text-green-600"><svg xmlns="http://www.w3.org/2000/svg" class="lucide lucide-repeat-2 mr-1" width="12" height="12" fill="none" stroke="#22c55e" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-label="Retweet"><path d="m2 9 3-3 3 3"/><path d="M8 6v6a2 2 0 0 0 2 2h6"/><path d="m22 15-3 3-3-3"/><path d="M16 18v-6a2 2 0 0 0-2-2H8"/></svg>98</span>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

        <script>
      // Premium Chart Component - Inline to avoid module loading issues
      class SimpleChart {
        constructor(canvasId, data) {
          console.log('🔧 SimpleChart constructor called with:', { canvasId, data });
          
          this.width = 600;
          this.height = 300;
          this.padding = 50;
          this.barWidth = 60;
          this.barSpacing = 40;
          this.animationFrame = null;
          this.animationProgress = 0;
          this.isAnimating = false;
          
          const canvas = document.getElementById(canvasId);
          if (!canvas) {
            throw new Error(`Canvas element with id '${canvasId}' not found`);
          }
          
          this.canvas = canvas;
          this.ctx = canvas.getContext('2d');
          this.data = data;
          console.log('🔧 SimpleChart data set to:', this.data);
          this.resize();
          this.render();
        }
        
        resize() {
          const container = this.canvas.parentElement;
          if (container) {
            this.width = container.clientWidth;
            this.height = container.clientHeight || 350;
            if (this.width < 400) {
              this.width = 400;
            }
          } else {
            this.width = 600;
            this.height = 350;
          }
          
          this.canvas.width = this.width;
          this.canvas.height = this.height;
          this.ctx = this.canvas.getContext('2d');
          this.ctx.imageSmoothingEnabled = true;
          this.ctx.imageSmoothingQuality = 'high';
        }
        
        update(newData) {
          this.data = newData;
          this.startAnimation();
        }
        
        startAnimation() {
          if (this.animationFrame) {
            cancelAnimationFrame(this.animationFrame);
          }
          this.animationProgress = 0;
          this.isAnimating = true;
          this.animate();
        }
        
        animate() {
          this.animationProgress += 0.05;
          if (this.animationProgress >= 1) {
            this.animationProgress = 1;
            this.isAnimating = false;
          }
          this.render();
          if (this.isAnimating) {
            this.animationFrame = requestAnimationFrame(() => this.animate());
          }
        }
        
        render() {
          this.drawBackground();
          console.log('🔍 Chart render - data:', this.data);
          console.log('🔍 Chart render - datasets[0]:', this.data.datasets[0]);
          console.log('🔍 Chart render - datasets[0].data:', this.data.datasets[0]?.data);
          console.log('🔍 Chart render - datasets[0].data.length:', this.data.datasets[0]?.data?.length);
          
          // Validate data structure
          if (!this.data || !this.data.datasets || !Array.isArray(this.data.datasets) || this.data.datasets.length === 0) {
            console.log('⚠️ Invalid data structure, showing no data message');
            this.renderNoData();
            return;
          }
          
          const firstDataset = this.data.datasets[0];
          if (!firstDataset || !firstDataset.data || !Array.isArray(firstDataset.data) || firstDataset.data.length === 0) {
            console.log('⚠️ No valid data in first dataset, showing no data message');
            this.renderNoData();
            return;
          }
          
          console.log('✅ Data is valid, rendering chart');
          const isStacked = this.data.datasets.length > 1;
          console.log('🔍 Is stacked chart:', isStacked);
          if (isStacked) {
            this.renderStackedBars();
          } else {
            this.renderSingleBars();
          }
        }
        
        renderStackedBars() {
          const chartWidth = this.width - (this.padding * 2);
          const topPadding = 120;
          const chartHeight = this.height - (this.padding * 2) - topPadding;
          const numMetrics = this.data.labels.length;
          
          const availableWidth = chartWidth - (numMetrics - 1) * 80;
          const barWidth = Math.max(availableWidth / numMetrics, 120);
          const barSpacing = 80;
          
          const totalValues = [];
          for (let i = 0; i < numMetrics; i++) {
            let total = 0;
            this.data.datasets.forEach(dataset => {
              if (dataset && dataset.data && Array.isArray(dataset.data) && i < dataset.data.length) {
                const value = dataset.data[i];
                if (typeof value === 'number' && !isNaN(value)) {
                  total += value;
                }
              }
            });
            totalValues.push(total);
          }
          
          const maxTotal = Math.max(...totalValues) || 1; // Prevent division by zero
          
          this.data.labels.forEach((label, metricIndex) => {
            const barX = this.padding + (metricIndex * (barWidth + barSpacing));
            let currentY = this.height - this.padding - topPadding;
            let totalValue = 0;
            
            for (let datasetIndex = this.data.datasets.length - 1; datasetIndex >= 0; datasetIndex--) {
              const dataset = this.data.datasets[datasetIndex];
              if (!dataset || !dataset.data) continue;
              
              const value = dataset.data[metricIndex];
              if (value === undefined) continue;
              // Don't skip zero values - they should still render as small bars
              
              const animatedValue = value * this.animationProgress;
              const segmentHeight = (animatedValue / maxTotal) * chartHeight * 0.75;
              const segmentY = currentY - segmentHeight;
              
              const gradient = this.createPremiumGradient(segmentY, currentY, dataset.backgroundColor[0] || '#3B82F6');
              this.drawSegmentWithShadow(barX, segmentY, barWidth, segmentHeight, gradient, datasetIndex === this.data.datasets.length - 1, datasetIndex === 0);
              
              currentY = segmentY;
              totalValue += animatedValue;
            }
            
            this.drawTotalValue(barX + barWidth / 2, currentY - 45, totalValue);
            this.drawMetricLabel(barX + barWidth / 2, this.height - 20, label);
          });
          
          this.drawPremiumLegend();
        }
        
        createPremiumGradient(startY, endY, baseColor) {
          const gradient = this.ctx.createLinearGradient(0, startY, 0, endY);
          gradient.addColorStop(0, this.lightenColor(baseColor, 0.3));
          gradient.addColorStop(0.3, baseColor);
          gradient.addColorStop(0.7, this.darkenColor(baseColor, 0.2));
          gradient.addColorStop(1, this.darkenColor(baseColor, 0.4));
          return gradient;
        }
        
        drawSegmentWithShadow(x, y, width, height, gradient, isTopSegment, isBottomSegment) {
          this.ctx.save();
          this.ctx.shadowColor = 'rgba(0, 0, 0, 0.15)';
          this.ctx.shadowBlur = 8;
          this.ctx.shadowOffsetX = 2;
          this.ctx.shadowOffsetY = 4;
          
          this.ctx.fillStyle = gradient;
          this.ctx.beginPath();
          const radius = 12;
          
          if (isTopSegment) {
            this.ctx.moveTo(x + radius, y);
            this.ctx.lineTo(x + width - radius, y);
            this.ctx.quadraticCurveTo(x + width, y, x + width, y + radius);
            this.ctx.lineTo(x + width, y + height);
            this.ctx.lineTo(x, y + height);
            this.ctx.lineTo(x, y + radius);
            this.ctx.quadraticCurveTo(x, y, x + radius, y);
          } else if (isBottomSegment) {
            this.ctx.moveTo(x, y);
            this.ctx.lineTo(x + width, y);
            this.ctx.lineTo(x + width, y + height - radius);
            this.ctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);
            this.ctx.lineTo(x + radius, y + height);
            this.ctx.quadraticCurveTo(x, y + height, x, y + height - radius);
            this.ctx.lineTo(x, y);
          } else {
            this.ctx.rect(x, y, width, height);
          }
          
          this.ctx.closePath();
          this.ctx.fill();
          this.ctx.restore();
          
          this.ctx.save();
          this.ctx.strokeStyle = 'rgba(255, 255, 255, 0.3)';
          this.ctx.lineWidth = 1;
          this.ctx.stroke();
          this.ctx.restore();
        }
        
        drawTotalValue(x, y, value) {
          this.ctx.save();
          this.ctx.fillStyle = 'rgba(255, 255, 255, 0.95)';
          this.ctx.shadowColor = 'rgba(0, 0, 0, 0.1)';
          this.ctx.shadowBlur = 4;
          this.ctx.shadowOffsetX = 0;
          this.ctx.shadowOffsetY = 2;
          
          this.ctx.beginPath();
          this.ctx.arc(x, y, 20, 0, 2 * Math.PI);
          this.ctx.fill();
          this.ctx.restore();
          
          this.ctx.fillStyle = '#1F2937';
          this.ctx.font = 'bold 14px Inter, system-ui, sans-serif';
          this.ctx.textAlign = 'center';
          this.ctx.textBaseline = 'middle';
          this.ctx.fillText(value.toLocaleString(), x, y);
        }
        
        drawMetricLabel(x, y, label) {
          this.ctx.fillStyle = '#6B7280';
          this.ctx.font = 'bold 14px Inter, system-ui, sans-serif';
          this.ctx.textAlign = 'center';
          this.ctx.fillText(label, x, y);
        }
        
        drawPremiumLegend() {
          const legendY = 30;
          const legendSpacing = 140;
          
          this.data.datasets.forEach((dataset, index) => {
            const legendX = this.padding + (index * legendSpacing);
            
            this.ctx.save();
            this.ctx.fillStyle = 'rgba(255, 255, 255, 0.95)';
            this.ctx.shadowColor = 'rgba(0, 0, 0, 0.1)';
            this.ctx.shadowBlur = 4;
            this.ctx.shadowOffsetX = 0;
            this.ctx.shadowOffsetY = 2;
            
            this.ctx.beginPath();
            this.drawRoundedRect(legendX - 8, legendY - 8, 140, 32, 8);
            this.ctx.fill();
            this.ctx.restore();
            
            const gradient = this.createPremiumGradient(legendY, legendY + 16, dataset.backgroundColor[0] || '#3B82F6');
            this.ctx.fillStyle = gradient;
            this.ctx.fillRect(legendX, legendY, 16, 16);
            
            this.ctx.fillStyle = '#374151';
            this.ctx.font = 'bold 14px Inter, system-ui, sans-serif';
            this.ctx.textAlign = 'left';
            this.ctx.fillText(dataset.label, legendX + 24, legendY + 12);
          });
        }
        
        renderSingleBars() {
          // Single bar implementation for non-stacked charts
          const chartWidth = this.width - (this.padding * 2);
          const chartHeight = this.height - (this.padding * 2);
          const numBars = this.data.labels.length;
          
          const barWidth = (chartWidth - (numBars - 1) * 40) / numBars;
          const maxValue = Math.max(...this.data.datasets[0].data);
          const scale = chartHeight / (maxValue * 1.2);
          
          this.data.labels.forEach((label, index) => {
            const value = this.data.datasets[0].data[index];
            const barHeight = value * scale * this.animationProgress;
            const barX = this.padding + index * (barWidth + 40);
            const barY = this.height - this.padding - barHeight;
            
            const gradient = this.createPremiumGradient(barY, barY + barHeight, this.data.datasets[0].backgroundColor[index]);
            this.drawSegmentWithShadow(barX, barY, barWidth, barHeight, gradient, true, true);
            
            this.drawTotalValue(barX + barWidth / 2, barY - 25, value);
            this.drawMetricLabel(barX + barWidth / 2, this.height - 20, label);
          });
        }
        
        drawBackground() {
          const gradient = this.ctx.createLinearGradient(0, 0, 0, this.height);
          gradient.addColorStop(0, 'rgba(255, 255, 255, 0.95)');
          gradient.addColorStop(1, 'rgba(248, 250, 252, 0.98)');
          this.ctx.fillStyle = gradient;
          this.ctx.fillRect(0, 0, this.width, this.height);
        }
        
        renderNoData() {
          this.ctx.fillStyle = '#6B7280';
          this.ctx.font = 'bold 16px Inter, system-ui, sans-serif';
          this.ctx.textAlign = 'center';
          this.ctx.fillText('No engagement data available', this.width / 2, this.height / 2 - 20);
          
          this.ctx.fillStyle = '#9CA3AF';
          this.ctx.font = '14px Inter, system-ui, sans-serif';
          this.ctx.fillText('for this period', this.width / 2, this.height / 2 + 10);
        }
        
        drawRoundedRect(x, y, width, height, radius) {
          this.ctx.moveTo(x + radius, y);
          this.ctx.lineTo(x + width - radius, y);
          this.ctx.quadraticCurveTo(x + width, y, x + width, y + radius);
          this.ctx.lineTo(x + width, y + height - radius);
          this.ctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);
          this.ctx.lineTo(x + radius, y + height);
          this.ctx.quadraticCurveTo(x, y + height, x, y + height - radius);
          this.ctx.lineTo(x, y + radius);
          this.ctx.quadraticCurveTo(x, y, x + radius, y);
        }
        
        lightenColor(color, amount) {
          const num = parseInt(color.replace('#', ''), 16);
          const amt = Math.round(2.55 * amount * 100);
          const R = (num >> 16) + amt;
          const G = (num >> 8 & 0x00FF) + amt;
          const B = (num & 0x0000FF) + amt;
          return '#' + (0x1000000 + (R < 255 ? R < 1 ? 0 : R : 255) * 0x10000 + (G < 255 ? G < 1 ? 0 : G : 255) * 0x100 + (B < 255 ? B < 1 ? 0 : B : 255)).toString(16).slice(1);
        }
        
        darkenColor(color, amount) {
          const num = parseInt(color.replace('#', ''), 16);
          const amt = Math.round(2.55 * amount * 100);
          const R = (num >> 16) - amt;
          const G = (num >> 8 & 0x00FF) - amt;
          const B = (num & 0x0000FF) - amt;
          return '#' + (0x1000000 + (R > 255 ? 255 : R < 0 ? 0 : R) * 0x10000 + (G > 255 ? 255 : G < 0 ? 0 : G) * 0x100 + (B > 255 ? 255 : B < 0 ? 0 : B)).toString(16).slice(1);
        }
        
        destroy() {
          if (this.animationFrame) {
            cancelAnimationFrame(this.animationFrame);
          }
        }
      }
      
      // Wait for DOM to be fully ready
      function initializeChart() {
        console.log('🔄 Starting chart initialization...');
        
        // Check if canvas exists
        const canvas = document.getElementById('engagementChart');
        if (!canvas) {
          console.error('❌ Canvas element not found');
          return;
        }
        
        console.log('✅ Canvas found:', canvas);
        console.log('🔍 Canvas dimensions:', canvas.width, 'x', canvas.height);
        console.log('🔍 Canvas style:', canvas.style.width, 'x', canvas.style.height);
        
        // Initialize the premium engagement chart
        const chartData = {
            labels: ['Likes', 'Comments', 'Shares'],
            datasets: [
                {
                    label: 'Instagram',
                    data: [847, 156, 89],
                    backgroundColor: ['#FF6B6B', '#FF6B6B', '#FF6B6B'],
                    borderColor: ['#E53E3E', '#E53E3E', '#E53E3E']
                },
                {
                    label: 'Facebook',
                    data: [200, 90, 50],
                    backgroundColor: ['#1890FF', '#1890FF', '#1890FF'],
                    borderColor: ['#096DD9', '#096DD9', '#096DD9']
                }
            ]
        };
        
        console.log('📊 Chart data prepared:', chartData);
        console.log('🔍 Chart data validation:');
        console.log('  - labels:', chartData.labels);
        console.log('  - datasets length:', chartData.datasets.length);
        console.log('  - dataset 0 data:', chartData.datasets[0].data);
        console.log('  - dataset 1 data:', chartData.datasets[1].data);
        
        // Initialize the premium chart with error handling
        try {
            console.log('🔧 About to create SimpleChart instance...');
            console.log('🔧 Canvas element:', canvas);
            console.log('🔧 Chart data:', chartData);
            
            const chart = new SimpleChart('engagementChart', chartData);
            console.log('✅ Premium engagement chart initialized successfully');
            console.log('✅ Chart instance:', chart);
            
            // Store chart instance globally for potential updates
            window.engagementChart = chart;
            
            // Force a re-render after a short delay
            setTimeout(() => {
              console.log('🔄 Forcing chart re-render...');
              chart.render();
            }, 500);
        } catch (error) {
            console.error('❌ Error initializing premium engagement chart:', error);
            console.error('Error details:', error.message, error.stack);
        }
      }
      
      // Prevent main.js from interfering with analytics page chart
      window.analyticsPageInitialized = true;
      window.preventMainJSChart = true;
      
      // Try multiple initialization strategies
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initializeChart);
      } else {
        // DOM is already ready
        setTimeout(initializeChart, 100);
      }
      
      // Prevent multiple initializations
      if (window.chartInitialized) {
        console.log('🔄 Chart already initialized, skipping...');
        return;
      }
      window.chartInitialized = true;
    </script>
    <!-- Remove main.js to prevent conflicts -->
    <!-- <script type="module" src="js/main.js"></script> -->
    <script>
        // Analytics page specific functions
        function exportAnalyticsReport() {
            // Show loading notification
            if (window.showNotification) {
                window.showNotification('Generating analytics report...', 'info');
            }
            
            // Simulate report generation
            setTimeout(() => {
                if (window.showNotification) {
                    window.showNotification('Analytics report exported successfully!', 'success');
                }
                // In a real app, this would trigger a download
            }, 2000);
        }
        
        function viewPlatformDetails() {
            if (window.showNotification) {
                window.showNotification('Opening platform details...', 'info');
            }
            // In a real app, this would open a detailed view
            setTimeout(() => {
                if (window.showNotification) {
                    window.showNotification('Platform details loaded!', 'success');
                }
            }, 1000);
        }
        
        function viewAllContent() {
            if (window.showNotification) {
                window.showNotification('Loading all content...', 'info');
            }
            // In a real app, this would navigate to a content list page
            setTimeout(() => {
                if (window.showNotification) {
                    window.showNotification('Content list loaded!', 'success');
                }
            }, 1000);
        }
        
        // Make functions globally available
        window.exportAnalyticsReport = exportAnalyticsReport;
        window.viewPlatformDetails = viewPlatformDetails;
        window.viewAllContent = viewAllContent;
    </script>
</body>
</html> 